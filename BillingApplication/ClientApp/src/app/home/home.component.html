<div class='row'>
  <form class='form-inline' (submit)='onSearch()' #theForm='ngForm' novalidate>
    <div class='form-group'>
      <div class='col-md-4'>
        <label name='id'>Document ID:</label>
      </div>
      <div class='col-md-6'>
        <input type='number' class='form-control' name='id' [(ngModel)]='id' Placeholder='i.e. 1' required />
      </div>
      <div class='col-md-2'>
        <input type='submit' class='btn btn-primary' value='Search' />
      </div>
    </div>
  </form>
</div>
<hr />
<div class='alert alert-danger' role='alert' *ngIf='errorMessage && errorMessage.length'>{{errorMessage}}</div>
<div class='row' *ngIf='invoice'>
  <div class='col-md-5'>
    <div class='card mb-4 bg-light'>
      <div class=card-header>
        <h4>Invoice {{invoice.id}}</h4>
      </div>
      <div class='card-body'>
        <p><b>Uploaded by: </b>{{invoice.uploadedBy}}</p>
        <p><b>Uploaded date: </b>{{invoice.uploadTimestamp}}</p>
        <p><b>File size: </b>{{invoice.fileSize | number:'1.0':'en-US'}} bytes</p>
        <p><b>Vendor: </b>{{invoice.vendorName}}</p>
        <p><b>Invoice date: </b>{{invoice.invoiceDate}}</p>
        <p><b>Tax: </b>{{invoice.taxAmount | number:'1.2-2'}}</p>
        <p><b>Total: </b>{{invoice.totalAmount | number:'1.2-2'}}</p>
        <p><b>Total due: </b>{{invoice.totalAmountDue | number:'1.2-2'}}</p>
        <p><b>Currency: </b>{{invoice.currency}}</p>
        <p><b>Processing status: </b>{{invoice.processingStatus}}</p>
      </div>
    </div>
  </div>
</div>
<div class='row'>
  <div class='col-md-12'>
    <div class='card'>
      <div class='card-header'>
        <h5>Statistics</h5>
      </div>
      <div class='card-body'>
        <div class='table-responsive'>
          <table id='statsTable' class='table table-striped'>
            <thead>
              <tr>
                <th>User Id</th>
                <th>Uploaded by</th>
                <th>File Count</th>
                <th>File Sizes (bytes)</th>
                <th>Total Amount (USD)</th>
                <th>Total Amount Due (USD)</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor='let stat of statsList'>
                <td>{{stat.id}}</td>
                <td>{{stat.uploadedBy}}</td>
                <td>{{stat.fileCount}}</td>
                <td>{{stat.totalFileSize | number:'1.0':'en-US'}}</td>
                <td>{{stat.totalAmountUSD | currency:'USD':'symbol':'1.2-2'}}</td>
                <td>{{stat.totalAmountDueUSD | currency:'USD':'symbol':'1.2-2'}}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class='alert alert-danger' role='alert' *ngIf='errorMessage2 && errorMessage2.length'>{{errorMessage2}}
        </div>
      </div>
    </div>
  </div>
</div>